RAM DISK
[[목차]]
== 개요 ==
[[RAM]]을 주 기억 공간이 아니라, 보조 기억 공간으로 사용하는 소프트웨어/장치. 페이징 파일 혹은 스왑 영역[* 둘은 비슷한 개념으로 주로 운영체제에 따라 이름이 달라진다]을 반대 개념으로 생각할 수도 있다. 이들은 메인 메모리가 부족할 때 디스크를 메모리 용도로 쓰는 것이다.

== 용도 ==
크게 두가지가 있다. 32비트 운영체제는 4GB 이상의 램을 사용할 수 없는데, 4GB 이상의 램을 장착한 32bit 시스템에서 남는 램을 사용할 수 있도록 하는 것이 가능하다. 또한 안전한 임시 저장소의 역할을 할 수 있다. 램의 특성상 전원이 날아가버리면 저장해둔 내용도 몽땅 날아가므로, 캐시 데이터나 남들이 나중에 훔쳐보면 안 되는 데이터를 저장하는데 사용한다.

=== 소프트웨어 램 디스크 ===
보통 메인 메모리로 장착되어 있는 DRAM 메모리를 가상 드라이브로 사용한다. 이런 램 디스크를 만들어주는 프로그램은 과거부터 꽤 많이 나와있다. 당연하지만, 이걸 쓰려면 메인 메모리에 램을 빵빵하게 갖춰두어야 한다. 메인 메모리도 부족한데 이걸 쓰는건 헛짓거리.

32비트 [[운영체제]]를 사용하는 컴퓨터에서 기본적으로 지원되는 3GiB ~ 3.5GiB 공간 밖의 주소 영역을 활용하는 방법으로 쓰인다. '''백방을 노력해도 정상적인 환경에서는 사용할 수 없는 부분이니까.''' [* 아주 없는건 아니고 PAE라고 32비트에서 메모리를 확장시키는 규격이 있기는 하다. 다만 XP, 2000 등의 예전 윈도우들은 서버 버젼에서만 4GB 이상으로 확장할 수 있는 경우도 있다. [https://msdn.microsoft.com/en-us/library/windows/hardware/dn613975(v=vs.85).aspx|참고]]
반면 64비트 운영체제에선 16EiB까지 쓸 수 있기 때문에 저런 상황은 없다고 봐도 된다. 메모리 용량이 거기까지 커지려면 이론상 32년은 기다려야 한다.(……) ~~계산은 어떻게 한거지~~

32비트 운영체제에서 램디스크는 1. 윈도우즈 시스템과 유져의 TMP, TEMP 영역 / 2. OS에서 관리하는 페이징파일(혹은 다른이름으로 스왑영역, 속칭 디스크캐시[* 디스크캐시라는 말은 엄밀히 말하면 틀린 것이다. 정확한 정의는 디스크에 파일이 실질적으로 기록되기 전 임시로 머무는 장소 혹은 자주 사용되는 파일을 로드해 두는 장소로, 사용자가 직접 건드릴 수 없는 영역이다]) / 3. Adobe사 소프트웨어 등의 업무용, 웹브라우져등의 주 사용 소프트웨어, 기타 소프트웨어등의 자체적 캐시경로를 램디스크에 할당하는 방식 등으로 시스템 성능 향상을 도울 수 있다.

그러나 64비트 운영체제에서 램디스크를 위와 같은 이유로 쓰는 것은 헛짓이라고 보면 된다. 특히 윈도우 성능 향상 팁으로 페이지 파일을 램디스크에 올리는 것이 속도 향상 방법으로 자주 제시되는데 이것은 잘못된 정보이다.[* 이유는 아래 2번을 참고. 요약하면 항상 '메모리를 먼저 쓴 후 페이지파일을 읽기 때문'이다. [http://www.overclock.net/t/1193401/why-it-is-bad-to-store-the-page-file-on-a-ram-disk|커널 개발에 참여한 개발자도 '(램디스크에 페이지파일 올리는건)뻘짓이다' 한마디로 요약해버렸다.]]

1번은 시스템에서 항시 사용하는 부분이므로 이 부분을 램디스크에 할당할수록 평소의 시스템 퍼포먼스는 기하급수적으로 올라간다, 단 이 부분은 페이징파일보단 적게 요구하긴 하지만 일반적으로 HDD나 SSD같이 넉넉한 공간임을 가정하고 시스템에서 사용하기에 대부분의 작업에서는 공간이 부족하지 않지만 몇몇 임시파일을 작성하는 작업(고성능모드로 실시간감시를 하는 안티바이러스 소프트웨어, 아래에 설명된 동영상 스트리밍 임시저장)등에서는 공간이 부족할수도 있다. 

사용 패턴에 따라 적절히 점진적으로 램디스크 크기를 늘려보고, 그래도 안되면 하단에 설명된 동적공간으로 설정해보거나 그냥 SSD등에 할당하자.

요즘에는 웹브라우져들이 대체로 메모리캐시 Only 모드를 자체적으로 지원하기에 활용도가 떨어지긴 하지만,
이를 지원하지 않거나 초보가 세팅하기 어려운 웹브라우져의 디스크캐시의 호환용도로 사용하는 경우는 1기가 정도면 넉넉하고 좀 과하게 쓰더라도 2기가면 떡을친다.
그러나 이 경우 고화질 스트리밍 동영상을 보는 경우 캐쉬 용량이 모자라서 뻗어버리는 일이 발생하는 점에 유의를 요한다.[* 그래서 옛날 유튜브에서는 문제가 되었으나 DASH방식으로 필요한 부분만 동적으로 스트리밍을 하는 지금은 문제가 없다, 단 그런 유튜브같이 새련된 방식이 아닌 고전적인 방식을 사용하는 고용량 동영상 스트리밍의 경우는 여전히 캐쉬 크기부족 문제가 생기므로 유의할것] 

몇몇 램디스크 소프트웨어의 경우는 '''동적메모리디스크 기능'''으로 메모리를 필요할때만 OS상에서 더 끌어오고 필요가 없어지면 다시 반환하는 식의 운용으로 '''위의 문제를 극복 가능'''하다.

2번의 경우, 이 문서의 개요 부분을 유심히 읽어보았다면 뭔가 이상한 점을 느낄 수 있을 텐데, 애초에 페이징 파일이란 놈의 주 목적이 램디스크의 반대 개념인 '실제 메모리가 부족할 때 디스크에서 끌어 쓰는 영역'으로, 램디스크를 써도 될 정도로 메모리가 충분하다면 딱히 페이징 파일을 신경써서 관리할 이유가 없다. 예전에는 램이 충분해도 페이지파일에 읽고 쓰는 웃긴 경우가 있었지만, 최근 프로그램들은 램이 충분하면 무조건 램을 먼저 사용한다. 만약 그렇지 않은 구닥다리 프로그램을 쓴다 해도, 페이지 파일을 읽는 것을 막고 싶다면 페이지파일을 램디스크에 올리는것보다는 차라리 페이지파일을 최소화하거나 안 쓰는 것이 바람직하다.[* 참고로 리눅스에서는 스왑영역은 할당하고 싶지만 자주 사용되지는 않기를 바라는 사람들을 위해 swappiness라는 설정 변수가 존재하여 스왑 사용 빈도를 설정할 수 있다]

3번은 작업용으로 사용할때 아주 유용한데, 고용량메모리를 요구하는 소프트웨어는 램디스크 보급 이전의 기존의 시스템 구성을 전제로 1번의 임시파일경로 공간을 사용하는데, 이를 아예 소프트웨어 자체에서 재공하는 캐쉬경로 설정을 이용해 램디스크의 일반 공간을 사용하는 방법이다.

Winrar나 IE와 같이 작업전후로 시스템의 임시파일 공간이나 디스크에 쓴 후 지정경로에 복사를 하는 ~~보수적인~~방식으로 동작하는 소프트웨어, 포토샵이나 동영상 인코딩등의 스토리지 입출력 병목이 적을수록 유리한 작업에서 각 소프트웨어의 설정에서 램디스크를 골라주거나, 램디스크 하위의 임시파일용 폴더로 경로를 지정해주면 된다.

램디스크의 데이터를 종료 및 재부팅시 날리지 않고 일반 스토리지에 저장 및 읽어다 다시 쓰는 옵션을 사용하는 경우, 용량이 너무 커지면 내용 자체를 이미지를 떠서 부팅시마다 읽어와 다시 저장하는 구조상 시스템 성능에 따라 부팅속도가 느려질 수도 있기 때문에 램디스크를 사용하는 용도에 따라 적당한 할당량을 부여하는 것이 바람직하다.


==== 목록 ====
 * [http://www.ltr-data.se/opencode.html/ ImDisk] - 버젼 1.9.2 (2014-12-17) (무료/오픈소스)
 * [http://www.superspeed.com/desktop/ramdisk.php SuperSpeed RamDisk] - 버젼 11.8.1298 (2013-06-10)
 * [http://www.romexsoftware.com/en-us/primo-ramdisk/index.html Primo Ramdisk(VSuite Ramdisk 2)] - 버젼 5.6.0 (2012-06-25)
 * [ftp://download.asrock.com/utility/XFastRAM/XFastRAM(v3.0.3).zip ASRock XFast RAM](ASRock사 메인보드의 번들 소프트웨어) - 버젼 3.0.3 (2014-08-15) [ftp://europe.asrock.com/utility/XFastRAM/XFastRAM(v3.0.3).zip 미러EU ] [http://66.226.78.22/downloadsite/utility/XFastRAM/XFastRAM(v3.0.3).zip US] [ftp://asrock.cn/utility/XFastRAM/XFastRAM(v3.0.3).zip CN]
그 외에 많은 프로그램들이 있다.
삼성 SSD 메지션에서도 비슷한 기능을 지원한다! RAPID 모드라고 되어있으며, SSD 840EVO 이상의 최신제품에만 적용가능하다. 사용하면, 8GB RAM 기준으로 딱 절반인 4GB를 잡아먹으며, SSD의 읽기, 쓰기 성능도 최소 4배 이상 증가한다.

=== 하드웨어 램 디스크 ===

소프트웨어 램 디스크와 같은 기능을 하드웨어로 지원하는 제품이다. 

attachment:/gigabye_i_ram.jpg

보조기억장치 인터페이스를 거쳐야 하므로 CPU와 버스로 직접 연결된 소프트웨어 램 디스크와 비교하면 속도가 좀 느리다. 일반 사용자용으로 나온 제품은 SATA인터페이스의 속도가 한계 속도가 될 수 밖에 없었다. 그렇다고 해도 초기에는 경쟁상대가 [[HDD]]였으므로, 속도면에서 상당히 강점을 보였다. 당시 HDD는 겨우 20~30 MB/s 정도의 전송속도를 가졌지만, 초기의 램 디스크 제품은 SATA 1의 한계속도인 150MB/s 에 근접한 속도가 나왔다. 하지만 DRAM의 특성상 전원이 끊기면 데이터가 사라진다는 단점이 있었고, 그래서 [[배터리]]를 붙여서 이를 대비했다. 그렇지만, 배터리 용량 문제로 길어 봐야 반나절 정도를 겨우 버티는 정도였기에 사용에 아주 심한 제약을 가지고 있었다.

SATA2 인터페이스의 등장으로 더 빠른 대역폭을 확보할 수 있게 되었고, 램 슬롯도 늘려서 용량도 더 확장가능한 후속제품이 출시될 즈음에, [[SSD]] 라는 무시무시한 경쟁자가 등장해 버렸다. SSD 역시 SATA2 한계속도인 300MB/s 에 근접한 성능이 나왔는데, SSD는 배터리도 필요 없고 가격도 램 디스크에 비해서 훨씬 저렴했기 때문에 경쟁이 되질 않았다. 결국 하드웨어 기반 램디스크는 SSD에 밀려 버리며 시장에서 사라 졌다.

그래도 플래시를 이용한 SSD에 비해서, DRAM 을 이용한 제품은 접근속도(Latency)면에서 장점을 가지기에, 산업용으로는 아직 생산되고 있긴 하다. Texas Memory Systems 라는 회사에서 만드는 RAMSAN 이라는 램디스크 제품군 중에서 RAMSAN-440 이란 제품이 DRAM 을 사용한다. [* 다른 제품군은 모두 플래시 메모리를 사용한다. 참고로 TMS사는 2012년에 IBM에 인수합병됐다.] 이 제품은 산업용이기에, 인터페이스가 fiber channel 을 쓰는지라 일반 PC에선 연결도 못할뿐더러, 가격도 상상을 초월한다.  '''512GB짜리 제품이 무려 1억원을 넘어 간다.'''
==== 제품 ====
 * 야노 전기 YR833 : PCI 슬롯을 사용하는 제품.
 * GIGABYTE i-RAM : SATA 연결을 하는 제품. 2005년 발매. 현재 발매중지.
 * GIGABYTE i-RAM BOX : 5인치 베이에 연결하는 제품. 2008년 발매.
 * ACARD ANS-9010 : 2008년 발매. 5인치 베이에 연결하는 제품. 32기가까지 지원한다.
 * TMS RAMSAN-440 : 산업용 DRAM 저장장치. 
