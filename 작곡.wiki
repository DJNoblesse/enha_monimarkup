[[목차]]

== 作曲 ==
곡, 즉 [[음악]]을 만드는 행위, 작곡을 하는 사람을 [[작곡가]]라고 부른다. 구체적으로는 주로 악보를 만드는 행위를 가리키지만, 이것은 서양의 [[클래식]] [[음악]], 또는 현대적인 음악 제작 시스템이 존재하지 않았을 때의 의미이다. 당장 [[토마스 에디슨]]의 축음기조차 없던 시절에는 악보를 작성하는 것은 직접 음악을 연주하거나 노래를 부르거나 하지 않으면, 잘해야 [[오르골]] 같은 것을 만드는 것이 음악을 기록하고, 보존하고, 공유할 수 있는 거의 유일한 수단이자 방법이었다. 

현재는 [[MIDI]], [[DAW]]가 주류이기 때문에, 악보를 직접 작성하기 보다는 디지털 데이터의 형태로 작곡을 하는 경우가 많다. 심지어 [[클래식]] 작곡가들도 이러한 컴퓨터를 사용한 음악 제작 시스템을 사용하여 작곡하는 경우가 있다.[* 다만, 입시생의 경우 시험장에 가서 하루종일 오선지에 곡을 쓰기 때문에 수기 연습이 주가 된다.]

대중음악의 경우, [[악기]]를 직접 연주할 줄 몰라도, [[악기]]가 없어도, 심지어는 음악 이론을 몰라도 작곡을 할 수 있을 정도로 환경이 좋아졌다. 단, 작곡가로서의 재능, 감각과 센스 만큼은 수 백년 전이나 지금이나 필수요소다. 

특히나 각 음악코드 숙달, 기보법[* 기보법이 없이도 훌륭한 곡을 만들수 있다지만 엄청난 음감이 있어서 가능하다.], 음감[* 제일 중요한 요소.], 그리고 자기만의 상상력[* 모든 예술 활동에 중요한 요소. 사실 이게 가장 중요하면서도 제일 어렵다.] 이 4개는 작곡의 기본이다. 또한 작곡 능력을 익히려면 화성학은 필수 요소 중 하나의 학문이다. 그리고 코드 진행 진행 마디 어느 정도 간격이 있는데 그럴려면 계산 능력도 나름대로 탁월해야 하며, 또한 좋은 멜로디를 귀에 넣으면 까먹지 않고 담아두는 기억력도 좋아야 한다.
 
그리고 아무리 작곡할 환경이 좋아져도 '''기본적으로 악기 하나는 다룰 수 있는 것이 훨씬 유리하고 편하다.''' 일단 작곡하는데 시간도 덜 소모가 되고, 그리고 악기를 연습하다보면 어느 정도의 감각과 센스가 발달하는 건 물론 음악 이론도 습득이 가능하며, '''무엇보다도 악기를 연주하면 목소리로 낼 음을 더 다양하게 낼수가 있기 때문이다.''' 작곡에서 중요한 것은 화음을 비롯한 다양한 음이고 악기를 연주할 줄 모른다면 그 화음을 표현할 수단은 목소리 밖에 없고 알다시피 악보에서 목소리는 음표 하나밖에 찍히지 않기 때문에 목으로 다양한 음이 나오기가 쉽지가 않다. 음악 자체가 소리를 통한 예술이며 작곡은 그 소리를 통한 예술을 창조하는 작업이기에, 집을 만들어도 다양한 도구가 필요하듯 제대로 된 작곡을 하려면 다양한 도구가 필요하다. 그리고 진짜 제대로 된 작곡을 하기 위해서는 기타나 피아노를 비롯한 다양한 악기뿐만이 아니라 컴퓨터와 믹서 장치도 필요하다. 하지만 문제는 역시 비용이며, 이러한 것들을 다 익히려면 많은 시간이 필요하다.

대중음악의 경우는 작곡을 보통 기타리스트와 키보디스트가 맡는데 이는 음악 화음을 가장 자유롭게 구사할수 있는 악기들이기 때문이다. 또한 보컬이 맡는 경우도 있는데, 기본적으로 보컬의 경우는 밴드의 얼굴이기 때문에 악기도 잘다뤄야 하며 멜로디를 흥얼거려 불러야 하는게 보컬이기 때문이다.[* 밴드 건즈앤로지즈의 보컬 액슬 로즈가 대표적. 의외로 괴팍하고 더러운 성격과는 정반대로 아름다운 멜로디의 발라드도 곧잘 만든다. 대표적인 예가 명곡 November Rain. 다만 밴드의 경우 한 사람이 곡 전체를 만들지 않고 연주자들이 각자 자기가 연주하는 악기부분을 만드는 경우가 대부분이다. 전설적인 록 보컬 로니 제임스 디오는 자신의 밴드 "디오"의 모든 곡의 멜로디와 가사를 작곡했는데, 연주 파트 부분은 각 연주자들이 따로 만들었다. 사실 발라드 가요의 경우 멜로디가 작곡의 대부분이지만, 하드록이나 헤비메탈 음악의 경우 멜로디 못지않게 베이스/드럼의 리듬파트,기타리프 등이 매우 중요하기 때문에 공동작곡이 기본이다.] 베이시스트이나 드러머들 중에서 의외로 작곡을 담당하는 하는 베이시스트들과 드러머들이 많지만 베이시스트들도 기타나 키보드와 같은 건반들을 기본적으로 잘치기 때문에 가능한거다. 특히나 박자를 넣는 드러머의 경우는 더 그렇다. 드러머와 베이시스트 사이에 베이시스트가 드러머보단 작곡을 맡는게 더 흔한데, 일반 기타리스트처럼 일반 기타도 잘치는 능력자들이 많기 때문이다.[* 반드시 그런 것은 아니다. 작곡은 악기 연주 이외에도 다양한 음악에 대한 폭넓은 견지를 갖추는 것이 중요하다는 것을 생각해보자.].[* 어차피 악기 연주도 다양한 음악에 대한 폭넓은 견지를 갖추어야 잘되고, 악기 연주도 하다보면 화성학을 배우게된다. 위에 말한 음악코드 숙달이나 기보법의 경우도 피아노나 기타 연습을 하다보면 익혀야 된다. 연주나 작곡이나 음악적인건 서로 연결이 되어있다.]


== [[마비노기]]의 [[wiki:"마비노기/스킬"음악 스킬]] ==
 * 1랭크시 멜로디 1200자, 화음1 800자, 화음2 500자, 노래 1200자

작곡 스킬이 있어야 악보에 글을 쓸 수 있으며 랭크가 높아질수록 쓸 수 있는 양이 많아진다. 작곡된 악보의 랭크는 [[음악적 지식]]과 연관이 있다. 음악적 지식과 함께 AP대비 지력 증가가 높다. 그런데 이름과 달리 마비노기에서 실제 이 스킬의 쓰임새는 '악보 제작'에 가깝다. 실제 작곡하는 유저가 있지만 대다수의 유저들은 유저들끼리 공유하는 MML을 [[복붙]]해서 사용한다.

마비노기에는 쪽지나 메모장 같이 필요한 말을 적어 넣을 수 있는 아이템이 없기 때문에 악보는 유저 이벤트 등에서 간혹 쪽지 대용으로 사용되기도 한다. 간혹 여기다 문상번호 적어놓고 문상거래하는 유저도 있다.(...) 물론 여기서도 글자 수에는 자비가 없으므로 작곡 랭크가 높아야 많은 내용을 적어 넣을 수 있다.
2012년 4월 4일 테스트 서버 패치(정식 서버는 동년 동월 12일)로 1랭크까지 올릴 수 있게 되었다.

=== MML ===
 * MML@(멜로디),(화음1),(화음2),(노래);
마비노기 악보는 MML(Music Macro Language)을 사용하고 있다. MML로 악보를 작성할 경우 위의 예시와 같이 식별자 'MML@'을 첫머리에 선언하며, 쉼표(,)를 사용하여 멜로디와 화음부 2개 및 노래로 구성할 수 있다. 세미콜론(;)은 MML의 종료를 알리는 식별자이다. 모든 명령어는 띄어쓰기를 하지 않고 붙여서 사용한다. 식별자 'MML@', 쉼표, 세미콜론은 작곡 창을 통해 직접 기재한다면 붙이지 않아도 된다. 대소문자 구별은 식별자를 제외하면 없으며, 중간에 지원하지 않는 문자가 있다면 그 문자는 무시한다. 디바 패치 이전의 마비노기 작곡 시스템은[[wiki:"MIDI#s-7.5.1" General MIDI]] 기반이었다. General MIDI의 채널이 포트 당 16개이므로, 마비노기 역시 이에 따라 15개의 채널을 지원했다[* 드럼용으로 사용되는 10채널을 사용하지 않으므로 한 개가 적다.]. 플레이어 1인 당[* 연주 가능한 조류 펫(팔색조)도 포함] 채널을 3개씩 할당하여[* 기존의 MML@(멜로디),(화음1),(화음2); , 화음1, 화음2가 없더라도 강제 할당] 채널이 15개를 초과하면 이미 5명이 연주하는 도중에 새로 연주하는 플레이어는 연주를 해도 소리가 나지 않았는데, 2013년 5월 3일 디바 패치로 이 제한이 사라졌다!

최근에는 MID2MML이라는 툴이 있어서, MML 언어의 명령어와 식별자를 전부 외우지 않아도 미디에 대한 약간의 이해만 있다면 쉽게 악보를 만들 수 있다. 또한 MML 코드를 피아노 롤로 변환하고 미리 재생하여 볼 수 있는 툴인 3ML Editor, ~~소마의 마비노기 컴포저~~(서버 폭파로 재생 불가), 클레트 플레이어(소마의 마비노기 컴포저와 동일하나 인터넷이 없어도 재생 가능) 등이 있다.

 * T(32~255) : 템포. ♩=(숫자). 1분에 4분음표를 몇 번 연주할 것인지, 즉 얼마나 빨리 연주할 것인지 결정한다. 숫자가 높아질수록 속도가 빨라진다. 기본곡을 연주할 때를 제외하고 노래 채널과 템포를 공유하지 않는다.
 * V(0~15) : 음량. 숫자가 클수록 음량이 커진다. 악기 연주의 소리가 작아서 페이드 효과를 내려고 인위적으로 음량을 조절하지 않는 이상 V15로만 쓰게 된다. 타악기를 사용할 경우 볼륨은 11이 최대값이며, 11이 넘어가도 11과 동일한 음량으로 재생된다. [[http://www.mabinogi.pe.kr/bbs/zboard.php?id=report&page=1&sn1=&divpage=3&sn=off&ss=on&sc=on&keyword=%ED%83%80%EC%95%85%EA%B8%B0&select_arrange=headnum&desc=asc&no=22399 링크]]
 * O(0~8) : 옥타브. 피아노에서 몇 번째 '도레미파솔라시'의 음인가를 따지는 그 옥타브이다. 연주하는 악기에 따라 적용이 되는 옥타브의 범위에는 차이가 있으며, 일반적으로 관악기는 그 범위가 좁게 제한되어 있다. 2013년 4월 중순 잠수함 패치로 옥타브 0 명령어를 제대로 지원하기 시작했다. 이유는 신규 악기(리라, 실로폰, 전자 기타 등)의 음역대가 옥타브 0부터 시작하기 때문인데, 정작 이 음역대를 제대로 지원하지 않았기 때문이다.
 * ＜, ＞ : 옥타브 1 내림, 올림. 벌어지는 방향 때문에 약간 헷갈릴 수 있다. 작곡할 때 가장 많이 쓰이는 3ML Editor에서 <를 남발하면 옥타브 1에서 내려가지 않고 이후에 > 하나만 넣어도 옥타브 2로 넘어가 버리는데, 마비노기에서 옥타브 0을 지원한 이후로 3MLE와 마비노기에서의 연주에 차이가 생겨버렸다. 옥타브 0을 지원하는 악기로 a<a<a<a<a를 3MLE와 마비노기에서 연주하면 3MLE에선 a<a<a<aa로 들리고 마비노기에선 정상적으로 a<a<a<a<a로 들릴 것이다. 이렇게 된 이유는 3MLE를 제작할 당시에는 마비노기에서도 3MLE와 동일하게 재생되었기 때문이다.
 * L(1~64) : 이 명령어를 선언한 뒤에 음표를 나타내는 명령어(CDEFGABR)를 숫자 없이 선언하면 이 명령에 의해 선언된 길이로 연주한다. 1은 온음표(4박), 2는 2분음표(2박), 4는 4분음표(1박), 8은 8분음표(반박), …, 와 같이 숫자가 크면 클수록 짧아지며, 마침표(.)를 붙이면 1.5배의 길이를 갖는 점음표가 된다.
  * 원래 기획상으로는 3은 2분 셋잇단음표(3개 합쳐서 4박), 6은 4분 셋잇단음표(3개 합쳐서 2박) 등의 잇단음표도 사용할 수 있었던 것으로 보이나, 제대로 동작하지 않던 버그가 '''굉장히 오랫동안''' 있었다.
  이는 2008년 3월 21일 정식 서버 패치(테스트 서버는 2008년 3월 5일)로 해결되었다. TPQN(Ticks per quarter note. 4분음표의 해상도)이 기존의 32에서 96으로 3배 증가함에 따라 셋잇단음표의 호환이 가능해진 것.
  참고로 L의 길이 산출 방식은 {{{[(TPQN*4)/(1~64)]}}}이다. []는 가우스 기호(바닥 함수를 생각하면 된다.). 셋잇단음표가 되지 않았던 이유는 기존의 TPQN이 32=2^5이었기 때문이었다. ~~3의 배수가 없는데 어떻게 셋잇단음표를 만들어~~ 이러한 이유 때문에 다섯잇단이나 일곱잇단 음표는 기본적으로 불가능 하지만 [[http://lisedrika.tistory.com/41 꼼수를 써서 어느정도 해결가능하다.]]
 * N(10~96) : 고정음. 숫자가 1 높아지면 음높이도 반음 높아진다. 길이는 무조건 L 명령으로 인해 선언된 길이를 따른다. 글자수 제한 때문에 일반적으로는 CDEFGAB를 사용한다.
 * CDEFGAB : 차례대로 도레미파솔라시를 나타내는 명령어. C(숫자)로 입력하면 L 명령에 상관없이 개별 음표의 길이를 조절할 수 있다. 단 주의할 것은 CDEFGABC는 도레미파솔라시도를 순차적으로 연주하는 게 아니라 시까지만 연주한 뒤 도는 다시 처음의 낮은 도로 연주하게 된다. 일반적으로 연상되는 '도레미파솔라시도'는 CDEFGAB>C로 선언된다. ＜, ＞, O 명령어 참고.
  * +(#), -: CDEFGAB 뒤에 붙어서 반음을 올리거나 내리는 역할을 한다. C-는 아래 옥타브의 B, B+는 위 옥타브의 C가 된다.
  * R : 쉼표. CDEFGAB와 사용법이 같다. 단 +(#), -를 사용할 수 없다.
 * 특별히 명령어를 선언하지 않았을 때의 초기값 : T120 L4 V8 O4

MML로 작성된 악보는 유저가 쓰는 PC의 사양에 따라 연주시 소리가 다를 수 있는데, 이것은 악보 연주에 [[MIDI]]를 쓰기 때문이다. MIDI는 원래의 음을 들으려면 MIDI 모듈이 필요하지만, [[사운드 카드]]나 내장 사운드에서 에뮬레이션 해 주는 형태로 소리를 들려준다. 이 때문에 칩셋에 따라 소리의 편차가 크고, 저가형 칩셋의 경우는 음을 제대로 내 주지 못하는 경우도 있다. 좋은 음을 들으려면 좋은 사운드 카드가 필요하다. 아니면 MIDI 모듈을 설치하던지.

다만 마비노기의 MML은 경우가 약간 다르다. Soundfont라는 기술을 사용하여 이미 녹음되어있는 악기 소리를 악보에 맞춰 재생하는 형태이므로, 어떤 칩셋을 쓰든 소리가 거의 차이가 나지 않는다. '''자신이 [[황금귀]]라도 되지 않는 이상 마비노기 악기 연주용으로 비싼 사운드카드나 MIDI 모듈을 구매할 필요는 없다.''' 메인보드의 내장 사운드카드 정도면 충분하다.

이 MML은 마비노기의 전유물은 아니다. [[프로그래밍 언어]]인 [[BASIC]]에 있는 PLAY 명령어에 쓰는 Music Macro Language를 그대로 가져왔다. GW-BASIC의 [[http://www.antonis.de/qbebooks/gwbasman/play.html Play 명령어 레퍼런스]]를 보면 MML의 설명이 마비노기의 MML과 거의 똑같다. 심지어 초기값도 마비노기와 같을 정도다. 그러나 베꼈다고 말할수도 없는 것이, 이 MML은 초기 게임의 음악 연주나 초기 핸드폰의 벨소리 연주에도 사용될 정도로 활용 영역이 넓다. 마비노기는 여기서 한발 더 나아가 유저가 음악을 편집할 수 있는 시스템으로 MML을 활용한 것이다. 

=== 길이 제한 ===
쓸 수 있는 악보의 길이는 랭크에 따라 제한된다. 때문에 유저들 사이에서 곡을 길고 충실하게 담기 위해서 글자 수를 줄이는 테크닉(C-, N명령, L명령 등)이 발달하였다. 하지만 작곡이 5랭크 제한이 있었을때는 화음2가 턱없이 부족한 250자였기 때문에 원망을 들었다.

이후 음유시인 패치로 1랭크까지 풀렸으나 4~2랭크까지 사는 책이 [[이보나]]가 한정판매하는(서버마다 파는 위치도 다르고 모든 책을 다 파는 것도 아니다.) 15,25,50만 두캇짜리 책을 구매해야되며 1랭크는 자르딘 [[온천]]의 '''대식가''' 온천 원숭이가 확률적으로 준다. 그런데 그 확률이 극악이였다가 후에 패치로 그냥 그저 주는 수준.

[["언팩" 모종의 방법]]을 사용할 경우 화음 1/화음 2 제한이 사라지나 총합(1랭의 경우 1200/800/500을 합한 값=2500자)은 변함이 없다. 총합을 넘어갈 경우 제한이 없어도 이전에 다 채워졌다면 중간에 잘린 채 서버에 전송된다. 노래의 길이와는 별개이다.

=== 마법 악보 ===
작곡 9랭크 이상부터는 악보를 제작할때 랜덤으로 마법 효과가 붙는다. 체력, 지력, 솜씨, 의지, 행운를 증가시키는 증가계 악보, 생명력, 마나, 스태미나를 회복시키는 회복계 악보,마법 시전 속도 향상, 활 조준률 향상, [wiki:"버서크"버서커] 음악, 평화의 음악등의 특수계 악보가 있다. 특수계 악보는 잘 나오지도 않을 뿐더러 악기 연주 5랭크 이상부터만 연주할 수 있다. 이렇게 제작된 마법 악보로 연주를 하면 일정 확률로 효과가 발동한다. 곡의 길이가 너무 짧을 경우 절대로 발동되지 않는다.

참고로 평화의 음악의 경우 절반의 확률로 몬스터들이 흉폭해지는 효과가 발생하는데, 이경우 '''비 전투몹이 전투몹으로 바뀐다''' 다만 일부 몬스터에 한정해서 바뀌는데 주로 개와 수탉이 바뀐다. 이경우 몬스터들은 플레이어를 공격하지만 플레이어는 비 전투몹 몬스터를 일반적인 방법으로 공격할 수 없고, 카운터 어택으로만 공격이 가능하다.

원래 왕성의 마법악보와 베리의 마법악보가 있었지만 점차 중복되는 게 많아져 문제가 있었다. 결국 음유시인 패치 때 이 둘이 없어지고 [[이보나]]의 특수악보(연주가능수가 500/1000회짜리)가 새로 생겼다. 이로서 이보나의 특수악보와 플레이어가 랜덤으로 만드는 마법 악보만이 남았다.
