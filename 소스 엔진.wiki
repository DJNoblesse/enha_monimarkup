http://upload.wikimedia.org/wikipedia/commons/c/c1/Source_engine_logo.png?width=300

{{{#!html
<iframe width="560" height="315" src="http://www.youtube.com/embed/neJ6WDIJT2o" frameborder="0" allowfullscreen></iframe>}}}
밸브 비주얼 아티스트 Gray Horsfield의 테크니컬 데모.

{{{#!html
<iframe width="560" height="315" src="http://www.youtube.com/embed/bMjXx-KweIo" frameborder="0" allowfullscreen></iframe>}}}
쉐이더 테크니컬 데모.

[[목차]]

Source Engine ~~이 [[소스#s-1|소스]]가 아니다~~

== 개요 ==
[wiki:"밸브 코퍼레이션" 밸브] 사에서 2004년에 출시한 [[게임 엔진]]. 퀘이크 1 엔진을 대량으로 개조해서 만든 골드소스 엔진 대신 새로 개발된 엔진으로 [[하프 라이프 2]]에 처음으로 사용되었다. [[픽사]]의 3D 영화 제작에 쓰이는 셰이더 기반 렌더러를 사용하였다. 또한 이전에 골드소스 엔진으로 개발되었던 몇몇 게임들이 소스 엔진으로 리메이크되기도 했다. 소스 엔진으로 개발된 게임들은 대부분 밸브가 개발한 게임들이지만, [[마비노기 영웅전]]과 Zeno Clash 같이 다른 회사에서 개발한 게임들도 꽤 있다. 밸브 쪽에서 [[NDA]]를 걸고 라이선스를 판매하기 때문.

흔히 소스 엔진은 최적화가 잘 되어 있다고 알려져 있지만, 마비노기 영웅전처럼 다른 개발자의 손으로 만들어진 소스 엔진 기반 게임들을 보면 밸브의 신적화에는 미치지 못한다. [wiki:"포탈(게임)" 포탈] 1 자체는 잘 돌아가도, 유저가 SDK를 건드려 만든 포탈 1의 모드맵은 잘 안 돌아가는 경우가 있는 것을 보면 소스 엔진 자체보다는 '''밸브의 최적화 솜씨가 대단한 것'''이라고 봐야 할 듯하다.--[wiki:"오오 트럴남캐 오오"오오 밸브갓 오오]--

== [[물리 엔진]] ==
소스 엔진은 게임에 쓰이는 정교한 물리적 움직임을 위해 [[하복 엔진]]이라고 하는 별도의 프로그램을 이용한다. 밸브가 만든 것은 아니며, 자세한 것은 해당 항목 참고. [[하복 엔진]]을 네트워크상 물리 효과 지원을 위해 손대지 않은 곳이 없을 정도로 커스터마이즈해서 사용하였다. 또한 고사양은 물론 저사양에서도 높은 퀄리티의 효과를 보여준다는 점도 특징이다.

[[레프트 4 데드 2]]에서 새로운 물리엔진의 도입을 검토한 흔적이 남아있다. 새로운 물리엔진은 [[nVIDIA]]의 [wiki:"피직스" PhysX]가 될 가능성이 유력하다.[* 레프트 4 데드2 구성 파일중 물리엔진을 담당하는 Vphysics.dll에서 PhysX 코드가 대량으로 발견되었다.]

== 소리 엔진 ==
소리에는 [http://www.radgametools.com/kr/default.htm 마일즈 사운드 시스템]이라는 [[미들웨어]]를 이용하였다.[* 하프 라이프 1에서 쓰던 미들웨어를 그대로 썼다.][* [[하프 라이프 2]] 출시 때의 소리 엔진을 [[레프트 4 데드]]까지 버전업 없이 그대로 우려먹었다. [[레프트 4 데드 2]]에서 내부적으로 대대적인 엔진 개조가 있었는지 출시 5년만에 최신버젼으로 패치되었다.]

물리엔진에 [wiki:"하복 엔진" Havok]과 [wiki:"피직스" PhysX]가 있다면 소리엔진에는 [http://www.radgametools.com/kr/default.htm 마일즈 사운드 시스템]과 [http://www.fmod.org/ FMOD]가 있다고 할 정도로 존재는 드러나지 않지만 상당히 자주 쓰이는 엔진이다. 출시당시부터 멀티코어 CPU를 지원했기 때문에 어떤의미로는 [[충공그깽]].[* 하프 라이프 2가 출시된 당시엔 듀얼코어 CPU조차 없었다는 점을 잊지 마시라.] 그러나 CPU에 대한 최적화가 무척 잘되어 있어서 CPU점유율이 높지 않다. 출시 당시에는 정신이 없었던지 [[하프 라이프]] 1보다 못한 3D소리 효과를 보여준다.'''(주의! 음질이 아니다!)''' [[카운터 스트라이크: 소스]]의 경우엔 계속 별다른 3D 사운드 효과가 없이 방향 효과만 설정돼서 나오고 있다가 소스 엔진의 버전이 업데이트되면서 3D 사운드 효과가 추가되었다. [[하프 라이프 2]]: 에피소드 1부터 하프라이프 1 수준의 3D사운드를 복구했다.

== 그래픽 시스템 ==
마테리얼 시스템이라는 특유의 엔진을 사용하고 있는데[* 소스 엔진 게임의 폴더를 열어보면 material이라는 폴더가 있다.] 물체에 재질을 미리 정해두면 자동으로 해당물체에 쓸 텍스쳐, 사운드, 물체의 강도, 부숴졌을때의 반응 등이 연동 되는 시스템이며, CPU 의존성이 높고 소스엔진 게임의 거의 대부분의 처리능력을 여기에 쓴다고 보면된다.

== 역사 ==
=== 2004년 [[하프 라이프 2]] 출시 ===
[[AMD]] [[CPU]]와 협력관계였으며, [[ATI]] Radeon과 협력관계가 깊었다. 나중에 AMD64프로세서/[[Windows XP]] 64비트 출시와 함께 소스 엔진도 64비트 버전으로 나온 적이 있다.(카운터 스트라이크: 소스의 오피스맵 프롭중에 컴퓨터 까보면 [[AMD]] 로고가 찍힌 CPU가 존재할 정도) [[nVIDIA]] [[VGA]] 죽이기 소리가 나올 정도로 성능편차가 컸다.[* 애초에 출시 당시 엔비디아 VGA들의 절대성능이 부족한 것이 원인이었다.]

현재는 모든 소스엔진이 하프 라이프 2: 에피소드 1 이상 버전으로 업그레이드되었기 때문에 지금은 흔적을 찾아볼 수 없는 버젼.

지원DX버젼 : DX6/7/8/8.1/9/9b
사용 게임 : 현재 없음

=== 2005년 로스트 코스트 시연 ===
[[HDR]] 시연용 [[엔진]]. 코멘터리 시스템을 최초로 도입했으며, [[nVIDIA]] [[VGA]]에도 신경을 써 주었다. [[AMD]] [[CPU]]와 협력관계를 유지하여 64비트 버전 엔진도 제작되었으나. 바로 다음해 [[하프 라이프 2]]: 에피소드 1부터 [[인텔]]과의 협력관계로 바뀌면서 그 후로 64비트 엔진은 제작되지 않았다. 시연용으로 제작한 것이라 최적화가 부족한 관계로 하프 라이프 2: 에피소드 1보다 성능이 후달리는 편.

[[HDR]]시연에도 한가지 일화가 있는데. 빛 계산은 수치를 세밀하게 표현하기 힘든 정수보다 소수점[* 정확하게는 부동소수점(Floating Pont=FP) 이다.]까지 끌어다 계산하는것이 표준이고, [[HDR]]의 정석이다. 예를들어 1.5, 1.6이라는 수치는 정수로는 절대 표현할 수 없다. 정수를 쓴다면 1, 2 사이는 표현 불가능. 계산의 정확도와 세밀함의 문제이다. 문제는 소수점까지 계산하기에는 쉐이더라는 연산유닛의 성능의 소모가 심하고,무엇보다 제일 큰 문제는 당시 주류 VGA들은 ROP라는 유닛들이 소수점 처리기능이 취약했던 것.

결국 밸브는 다른게임들이 시도했던 소수점계산 방식의 HDR을 포기하고, 정수방식[* 색별 256단계의 정수표현=INT8 ]의 HDR을 구현하였다.이로 인해서 낮은 사양의 VGA도 HDR이 구현 가능해졌고 HDR이 정식으로 편입되기 이전 버젼의 DX9/DX9b카드들도 구원받았다.(이후 [[레프트 4 데드 2]] 까지도 정수방식의 HDR을 계속 사용하게 된다.) 이 정수방식의 HDR에 대해 잠깐 설명하자면, 위에서 1.5, 1.6같은 부동소수점으로 표현 가능한 수치들은 스케일을 늘려서 15, 16 식으로 정수로 표현하게 하였다. 물론 소수점 네 자리 이후가 '''보편적인'''[* 절대 최소가 아니다!] 부동소수점에 비하면 256단계로는 표현 제약도 심해지지만, 반대로 라이트닝 계산은 계산을 세밀하게 한다고 해도 눈에 띄는 차이가 거의 없기에 이런 방식을 사용할 수 있게 된 것.

빛의 계산이 부정확해서 발생하는 오차로 인해, 여기저기 추가적으로 최적화 할것이 많아지는점이 생긴다는것은 양날의 검.

현재 [wiki:"스팀(플랫폼)" 스팀]을 통해 배포되는 엔진중 가장 오래된 버전의 엔진.

2009년말 64비트 엔진 배포를 중단하였다.

지원DX버젼 : DX6/7/8/8.1/9/9b
사용게임 : [[하프 라이프 2: 로스트 코스트]]

=== 2006년 [[하프 라이프 2]]: 에피소드 1, 데이 오브 디피트: 소스 출시 ===
제작협력사를 [[인텔]]로 바꾸고 [[nVIDIA]]에 대한 코드 최적화가 실시되기 시작한 버젼. 정식으로 [[HDR]]이 지원되기 시작하였으며, NPC들의 AI향상, 반응 스크립트 개선, 덤으로 데이 오브 디피트: 소스 에서 소리효과를 대폭 개선했다.

인텔 CPU 코드최적화에 필요한 VTune Performance Analyzer의 흔적도 보인다.(AMD도 비슷한 역할을 하는 Code Analyst라는 툴이 있으나 소스엔진에 사용된 흔적이 없다.)

이후 기존 소스엔진 게임들이 모두 에피소드 1 엔진으로 업그레이드되었으며 쉐이더가 없는 DX6/7 VGA에 대한 지원이 빠지기 시작한다.

지원DX버젼 : DX7/8/8.1/9/9b
사용게임 : 일부 [[소스 엔진 모드]] 게임, [[하프 라이프: 소스]], [[하프 라이프 2]]: 데스매치 등 극히 일부.

=== 2007년 [[하프 라이프 2]]: 에피소드 2, [[팀 포트리스 2]], [[wiki:"포탈(게임)" 포탈]] 출시 ===
제작 협력 VGA회사를 완전히 [[nVIDIA]]로 바꾸고 스팀 상점 페이지에도 엔비디아 로고를 달고 나온다.[* 당시 Radeon HD2000 시리즈들은 소스엔진구동에 적합하지 않은 구조였기 때문에 밸브가 버렸다는 설이 있다.(실제로 HD2900이후 라데온 아키텍쳐는 소스 엔진의 주 구동 코드인 SM2b이하 버젼성능효율이 안좋다) 제작지원 교체가 얼마나 급하게 이루어졌는지 보여준 일화가 HD2900XT의 번들게임이 위 세 게임이었다는 점. 결국 2004년의 사건과 역전되어버린 상황.]

개선점만 보자면 소스엔진 출시 이후 가장 큰 혁명이라고 불릴 정도.

파티클 효과 실시간 계산 및 유연한 적용 시작
파티클 계산의 멀티코어 CPU지원

손전등 플래쉬등의 가변적인 라이팅으로 인한 그림자 생성효과 지원 - 사람이나 철조망에 플래쉬를 비추면 그 모양대로 그림자가 생긴다.이전버젼에서는 그냥 투과될 뿐이다.

얼굴 표정의 풀 VGA처리 및 자동적으로 생성되는 립싱크 로컬라이즈 지원

DX9c버젼을 지원하기 시작하나 위 세작품에는 전혀 쓰이지 않고 베타버전 수준의 코드만 존재한다.

가장 중요한점은 마테리얼 시스템의 멀티코어 CPU지원이었다.소스엔진의 특성상 CPU처리가 잦은데,이전까진 CPU하나만 썼기 때문에 그래픽 효과가 좋으면 프레임이 많이 하락하고 높은 프레임 유지도 쉽지 않았다.중요한 점은 에피소드2엔진에 도입된 멀티코어 CPU지원은 베타수준이었고 강제로 켜면 프레임은 확실하게 오르나 튕기기 일쑤.

게다가 [[팀 포트리스 2]]는 특수효과가 범벅된 게임이라, CPU하나만 쓰게 하면 당시의 쟁쟁한 사양도 32명방 난전이 일어나면 20프레임 띄우는게 다반사였고 이 때문에 스팀포럼에 프레임 징징글이 많았다. 결국 [[레프트 4 데드]] 출시 후에 멀티코어 CPU지원이 정식 패치되었다! 덤으로 데이 오브 디피트: 소스도 같이 엔진 업그레이드를 받았으며, 맥 지원과 동시에 주요 [[카운터 스트라이크: 소스]]도 엔진 업그레이드를 포함한 업데이트를 받게 되었다.

[[팀 포트리스 2]]부터 DX7 지원이 완전히 삭제되었다. 강제로 DX7 모드로 구동시키면 까만 화면만 출력된다.

지원DX버젼 : DX8/8.1/9/9b/9c(베타)
사용게임 : [[하프 라이프 2]], [[하프 라이프 2]]: 에피소드 1, [[하프 라이프 2]]: 에피소드 2, [[wiki:"포탈(게임)" 포탈]], [[팀 포트리스 2]], 데이 오브 디피트: 소스, [[카운터 스트라이크: 소스]], 일부 [[소스 엔진 모드]]

=== 2008년 [[레프트 4 데드]] 출시 ===
[[카운터 스트라이크: 소스]] 봇 시스템 개발중 테러팀에 칼든 봇을 잔뜩 집어넣고 학살하는(!!) 테스트 플레이어들을 보고 감명을 받아 만들었다고 한다. 때문에 [[레프트 4 데드]] 시리즈는 기반이 카운터 스트라이크: 소스이다. 카운터 스트라이크: 소스의 콘솔명령어가 몇가지가 삭제되지 않고 남아있으며[* 무기구입 명령어나,CS_MAKE_VIP등이 남아있으며 물론 작동은 하지 않는다.] 결정적으로 콘솔내 Version 명령어로 버젼을 보면 1.0.1.6으로1.0.7.3인 [[팀 포트리스 2]]보다 엔진버젼이 낮다.

에피소드 2 엔진이랑 비교했을 때 완벽한 멀티코어 CPU지원[* 팀 포트리스2 계열은 저사양 유저를 위한 DX8/8.1지원을 없앨 수 없기 때문에 멀티코어 CPU지원이 레프트 4 데드보다 약간 제한적이라고 팀 포트리스 2 블로그에 언급되어 있다.],다이렉트X 9c버젼 기술 정식 채용시작(게임의 아주 일부에만 적용하였다) 등을 보면 엔진버젼이 낮다고 무조건 얕잡아 볼 수 없다.

참고로 그래픽 관련 콘솔 명령어가 많이 막혀버렸고, DX8.1이하 버젼에 대한 지원이 완전히 끊겼다. -dxlevel도 먹히지 않는다.

모션캡쳐를 통한 상황별 애니메이션이 최초로 적용되었다.(사망했을 때, 밀려났을 때 등등. 나중에 [[팀 포트리스 2]]에도 적용이 되었다.)

유사품으로 유포리아 엔진도 있으나, [[레프트 4 데드 2]] 코멘터리에서는 유포리아 방식보다 모션캡쳐 조합을 선호하며 앞으로도 모션캡쳐를 적극 활용할 것이라는 뉘앙스를 풍겼다.

[http://www.naturalmotion.com/euphoria.htm 기존 랙돌과 유포리아 엔진의 차이점]. [[레프트 4 데드]]도 유사한 것이 쓰였다고 보면 된다.

그리고 [[nVIDIA]]와도, [[ATI]]와도 제작 협력을 하지 않고 독립적으로 개발된 작품.

지원 DX버젼 : 9/9b/9c

=== 2009년 [[레프트 4 데드 2]] 출시 ===
[[레프트 4 데드]]와 마찬가지로 [[카운터 스트라이크: 소스]] 기반이지만. 엔진버젼이 2.0.0.4로 급격하게 빌드넘버가 상승하면서 엔진을 거의 갈아 엎었다는것을 암시한다. 그러나 작동하지 않는 [[카운터 스트라이크: 소스]] 명령어는 여전히 남아있더라는게 후문.

대대적인 버젼업에도 불구하고, 바뀐게 눈에 띄지 않는다는 점은 어느정도 [[안습]] 요소로 작용한다. 전작들이 DX9c베타버젼으로 코드만 넣어놓고 사용을 하지 않거나, 아주 일부만 적용했다면 DX9c버젼의 사용빈도가 월등하게 높아졌고 VGA에서 DX9b버젼 대비 높은 성능으로 표현한것이 특징.(VGA성능이 충분하다면 같은 효과를 구현하자면 DX버젼이 높을수록 효율적이다)

'''특히 감염자의 신체훼손이 DX9c로 표현한 주요 효과들이다.'''

코드는 존재하지 않지만 DX10구동용 파일도 발견되었고, 마찬가지로 작동하지는 않지만 테셀레이션 명령어도 엔진내에 새로 추가됨에 따라, 밸브의 다음작품은 최소 DX10코드만 포함되거나(베타), DX10이 새롭게 사용될 확률이 높아졌다.

테셀레이션의 경우 DX9게임작동 모드에서도 명령어가 존재하고, AMD 검출하는 부분도 존재하는것으로 보아 AMD의 DX9 테셀레이션을 이용할 가능성이 있다.

지원 DX 버젼 : DX 9/9b/9c/10(알파버젼)

=== 2010년 맥 지원 ===
스팀의 맥 플랫폼 지원과 동시에 맥 버젼에 지원 되는 소스엔진
맥 지원을 위해 주요 게임들이 오렌지 박스 엔진으로 업그레이드되었다. 맥에서는 현재 OpenGL을 이용하며 오디오는 OpenAL을 이용하는 중.

=== 2011년 [[포탈 2]] 출시 ===
[[레프트 4 데드 2]]의 엔진을 개량한 엔진이라고 한다. 엔진 버전은 2001이다.

=== 2012년 [[카운터 스트라이크: 글로벌 오펜시브]] 출시 ===
2012년 빌드 버전 4932로 업그레이드되었다. [[카운터 스트라이크: 글로벌 오펜시브]] 및 [[도타 2]]에 사용된 엔진이다. [[FXAA]] 등의 기술 지원이 추가되어 있으며, 게임 내에서는 아직 볼 수 없지만 Ambient Occlusion, Cinematographic Motion blur, Tyndall Effects, Dynamic Lighting, DoF 등의 기술도 적용되어 있다.

=== 2013년 [[리눅스]]용 스팀 출시 ===
엔진버전 23, 빌드 5134로 업데이트 되었고, OpenGL 그래픽 API 가속을 통해서 공식적으로 리눅스도 지원하게 되었다.

=== 2014년 [[안드로이드(OS)|안드로이드]] 지원 ===
엔비디아에서 하프 라이프 2와 포탈을 [[쉴드]]용으로 포팅하면서 지원하게 되었다. 다만, 특정 하드웨어([[테그라]])만 지원하는 상황이며 밸브에서 아직 공식 지원하지는 않는다.

=== 2015년 소스 엔진 2 공개 ===
본래 소스 엔진 2의 존재는 [[게이브 뉴웰]]이 자신의 생일 때 밝혀 처음 드러났다. 이후 2014년 8월 7일의 [[도타 2]] 베타 커스텀 게임 데이트에 조용히 소스 2를 사용한 것으로 알려졌다.

2015년 GDC에서 소스 엔진 2를 공식 공개하면서 엔진의 무료화를 선언했다. 다른 게임 엔진이 조건부 무료인 것과 달리 게임 발매시 스팀에 반드시 출시해야 한다는 조건을 제외하면 제약 없이 무료 이용이 가능하다.

== 소스 엔진을 사용한 게임 ==
상업 작품만 기재한다. 비상업용 아마추어 게임 및 모드는 [[소스 엔진 모드]] 항목으로.

 * [[게리 모드]]
 * 뉴클리어 던
 * [[다크 메시아: 마이트 앤 매직]]
 * 다크 메시아: 마이트 앤 매직 엘리먼츠
 * 더 쉽
 * [[더 스탠리 패러블]]
 * [[데이 오브 디피트: 소스]]
 * [[도타 2]]
 * [[디노 디데이]]
 * [[디어 에스더]]
 * [[레프트 4 데드]]
 * [[레프트 4 데드 2]]
 * 리벨레이션 2012
 * [[마비노기 영웅전]]
 * [[뱀파이어 더 마스쿼레이드 블러드라인]]
 * 블러디 굿 타임
 * 블레이드 심포니
 * [[스팅(게임)|스팅]]
 * [[에일리언 스웜]]
 * [[인서전시]]
 * 제노 클래시
 * [[카운터 스트라이크: 글로벌 오펜시브]]
 * [[카운터 스트라이크: 소스]]
 * [[카운터 스트라이크 온라인 2]]
 * 컨테이전
 * [[타이탄폴]]
 * [[택티컬 인터벤션]]
 * [[팀 포트리스 2]]
 * 포스탈 3
 * [[포탈(게임)|포탈]]
 * [[포탈 2]]
 * 하이브리드
 * [[하프 라이프: 소스]]
 * [[하프 라이프 2]]
 * 하프 라이프 2: 데스매치
 * 하프 라이프 2: 로스트 코스트
 * 하프 라이프 2: 서바이버
 * 하프 라이프 2: 에피소드 1
 * 하프 라이프 2: 에피소드 2
 * E.Y.E: Divine Cybermancy

== 참고 ==
[[레프트 4 데드]] 출시 이전의 소스 엔진 게임들은 구동되는 DirectX의 버전을 바꿀수 있다.
콘솔명령어 mat_dxlevel x 와 실행파일 뒤에 추가하는 추가명령 -dxlevel x 로 바꿀수 있는데, -dxlevel x 는 게임을 한번 실행시켜 적용후 명령어를 삭제해줘야 제대로 동작한다. x는 60, 70, 80, 81, 90, 95, 98 중 하나. 이걸 이용하면 저사양 유저들도 (일단)게임을 원활하게 구동할수 있다. [http://developer.valvesoftware.com/wiki/DirectX_Versions 참고]

 * 명령어 정보
  * 60 - DirectX 6
  * 70 - DirectX 7
  * 80 - DirectX 8.0
  * 81 - DirectX 8.1
  * 90 - DirectX 9 (일반적으로 이 모드로 실행된다.)
  * 95 - DirectX 9 Shader Model 3
  * 98 - DirectX 9 (DirectX 10 지원카드)

[[각주]]
